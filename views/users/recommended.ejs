<%-include("../head.ejs")%>
<link rel="stylesheet" href="/styles/jobdetails.css" />

<body>
  <div class="dashboard-container">
    <aside class="sidebar-box">
      <%-include("../sidebar.ejs")%>
    </aside>

    <main class="main-wrapper">
      <%-include("../topbar.ejs")%>

      <div class="main-contents">
        <header class="content-header">
          <h2>Recommended for You</h2>
          <p>Jobs based on your profile and preferences</p>
        </header>

        <div class="job-grid">
          <% if(jobs.length === 0){ %>
            <div class="empty-state">
              <p>No recommendations available right now. Check back later!</p>
            </div>
          <% } %> 
          
          <% jobs.forEach(job => { %>
            <article class="job-card">
              <div class="job-card-header">
                <h3><%= job.title %></h3>
                <span class="job-badge">New</span>
              </div>
              
              <p class="job-description"><%= job.description %></p>
              
              <div class="job-tags">
                <strong>Skills:</strong>
                <div class="tag-container">
                  <% (job.requiredskills || []).forEach(skill => { %>
                    <span class="skill-tag"><%= skill %></span>
                  <% }) %>
                </div>
              </div>

              <div class="job-card-footer">
             <a href="/users/jobdetails/viewdetails?id=<%= job.id %>" class="btn-primary-link">
             View Details
              </a>
             </div>
            </article>
          <% }) %>
        </div>
      </div>
    </main>
  </div>
</body>
<%-include("../components/foot")%>